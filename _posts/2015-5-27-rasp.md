---
layout: post
title: Des tuiles sur la Pi !
---

Je vais installer Node sur ma petite Raspian Pie et utiliser le petit server de tuiles de Tobin Bradley.


[Tuto petit server de tuiles](https://www.youtube.com/watch?v=CwAQSKsSQhI)

and [the repo is here](https://github.com/tobinbradley/mbtiles-server)


Mais tout d'abord il faut installer Node Js !

Node Js c'est bien mais qu'est ce que c'est chi*"## à installer! Les versions évoluent tellement vite que les softwares montés avec d'anciennes versions de Node ne marchent plus avec les nouvelles version de Node... (c'est le cas de Tilemill par ex) Il faut donc choisir une version pas trop récente mais pas trop vieille non plus sinon npm n'est pas inteégrer dedans.  On va donc installer la version 0.10.35 puisqu'elle supporte Tilemill et car moi aussi je supporte Tilemill et parcequ'il y a npm dedans ! 

Node 0.10.35 from sources:

```

cd /home/pi

mkdir node

cd node

wget http://nodejs.org/dist/v0.10.35/node-v0.10.35.tar.gz

tar -zxf node-v0.10.35.tar.gz

cd node-v0.10.35/


```

Avant de compiler node from source on install *screen* pour eviter que le process stop en cas de broken ssh pipe
```
sudo apt-get install screen
screen
```


In this new terminal we can lunch the classic Linux installation (it will take 1 or 2 hours !):

```

./configure

make

sudo make install

```

Qu'est ce qu'il nous reste à faire ?

Donc le workflow serait:

Collecter / Stocker les données dans ODK

Exporter les données en csv sur github -> Utilser Koop pour creer un service REST pour creer nos maps et dashboards avec ces données.

Generer les fond de cartes d'analyse dans Tilemill (enfin de l'analyse !!), pousser les mbtiles sur Github, les recupere sur la Pi et les diffuser avec ce petit server de tuiles.

Yallah !
